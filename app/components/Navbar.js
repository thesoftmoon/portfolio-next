import React, { useRef, useState } from "react";
import '../styles/Navbar.scss'
import Link from "next/link";


function Navbar() {
    const [navBgColor, setNavBgColor] = useState(false);

    const navbarBgChange = () => {
        if (window.scrollY >= 90) {
            setNavBgColor(true);
        } else {
            setNavBgColor(false);
        }
    };

    window.addEventListener("scroll", navbarBgChange);

    const [isOpened, setIsOpened] = useState(false);

    const openMenu = useRef(null);


    const handleClick = () => {
        setIsOpened(!isOpened);
    };

    const openRemover = () => {
        if (!isOpened) {
            openMenu.current.classList.add('open');
            openMenu.current.classList.remove('closed');
        } else if (isOpened) {
            openMenu.current.classList.remove('open');
            openMenu.current.classList.add('closed');
        }
    }

    return (
        <div className={navBgColor ? "navbar-pc navbar-background" : "navbar-pc"}>
            <div className="container">
                <div>
                    <Link href="/" className="logo">
                        <svg xmlns="http://www.w3.org/2000/svg" width="134" height="24" viewBox="0 0 134 24" fill="none">
                            <path d="M132.897 22.36C132.001 23.256 130.593 23.256 129.729 22.36C128.865 21.496 128.865 20.088 129.729 19.224C130.593 18.328 132.001 18.328 132.897 19.224C133.761 20.088 133.761 21.496 132.897 22.36Z" fill="#55B5A6" />
                            <path d="M118.846 6.68005C123.55 6.68005 127.39 10.4241 127.39 15.0641C127.39 19.7041 123.55 23.4481 118.846 23.4481C114.11 23.4481 110.302 19.7041 110.302 15.0641C110.302 10.4241 114.11 6.68005 118.846 6.68005ZM118.846 23.0001C120.798 23.0001 122.398 19.4481 122.398 15.0641C122.398 10.6801 120.798 7.16005 118.846 7.16005C116.862 7.16005 115.294 10.6801 115.294 15.0641C115.294 19.4481 116.862 23.0001 118.846 23.0001Z" fill="white" />
                            <path d="M105.103 5.75197C103.887 5.75197 102.863 4.75997 102.863 3.51197C102.863 2.29597 103.887 1.27197 105.103 1.27197C106.351 1.27197 107.343 2.29597 107.343 3.51197C107.343 4.75997 106.351 5.75197 105.103 5.75197ZM108.399 21.912C108.751 22.328 108.495 23.032 107.919 23.032C107.695 23.032 102.543 23.032 102.287 23.032C101.743 23.032 101.487 22.328 101.807 21.912C102.255 21.336 102.767 19.96 102.863 16.568C102.863 15.736 102.863 14.872 102.863 14.072C102.767 10.68 102.255 10.072 101.807 9.49597C101.455 9.07997 101.743 8.43997 102.287 8.40797C102.511 8.37597 102.735 8.37597 102.863 8.40797C104.047 8.40797 104.687 8.08797 106.703 7.25597C107.023 7.12797 107.343 7.35197 107.343 7.67197V16.568C107.439 19.96 107.951 21.336 108.399 21.912Z" fill="white" />
                            <path d="M99.7083 21.912C100.06 22.328 99.8043 23.032 99.2283 23.032C98.9403 23.032 93.8523 23.032 93.5963 23.032C93.0523 23.032 92.7963 22.328 93.1163 21.912C93.5643 21.336 94.0763 19.96 94.1723 16.568C94.1723 13.656 94.1723 10.264 94.1723 7.44796C94.0763 4.05596 93.5643 3.44796 93.1163 2.87196C92.7643 2.45596 93.0523 1.81596 93.5963 1.75196C93.8203 1.75196 94.0443 1.75196 94.1723 1.75196C95.3563 1.75196 95.9963 1.46396 98.0123 0.631961C98.3323 0.503962 98.6523 0.727961 98.6523 1.04796V16.568C98.7483 19.96 99.2603 21.336 99.7083 21.912Z" fill="white" />
                            <path d="M82.908 6.68005C87.612 6.68005 91.452 10.4241 91.452 15.0641C91.452 19.7041 87.612 23.4481 82.908 23.4481C78.172 23.4481 74.364 19.7041 74.364 15.0641C74.364 10.4241 78.172 6.68005 82.908 6.68005ZM82.908 23.0001C84.86 23.0001 86.46 19.4481 86.46 15.0641C86.46 10.6801 84.86 7.16005 82.908 7.16005C80.924 7.16005 79.356 10.6801 79.356 15.0641C79.356 19.4481 80.924 23.0001 82.908 23.0001Z" fill="white" />
                            <path d="M80.4145 3.35194C80.4785 3.51194 80.4145 3.70394 80.2545 3.79994C79.6785 4.11994 78.4305 4.75994 78.2705 4.82394C77.9185 4.98394 77.2785 4.85594 77.2785 3.89594C77.2785 2.45594 76.4465 0.695942 73.9505 0.695942C72.2545 0.695942 71.4545 2.23194 71.4545 4.88794V7.09594H75.0065C75.1345 7.09594 75.2305 7.19194 75.2305 7.31994C75.2305 7.44794 75.1345 7.54394 75.0065 7.54394H71.4545V16.5679C71.5505 19.9599 72.0625 21.3359 72.5105 21.9119C72.8625 22.3279 72.5745 23.0319 72.0305 23.0319C71.8065 23.0319 66.6225 22.9999 66.3985 22.9999C65.8225 22.9999 65.5665 22.3279 65.9185 21.9119C66.3665 21.3359 66.8785 19.9599 66.9745 16.5679V7.54394H64.5425C64.4145 7.54394 64.3185 7.44794 64.3185 7.31994C64.3185 7.19194 64.4145 7.09594 64.5425 7.09594H66.9745V4.88794C66.9745 1.81594 69.8545 0.215942 73.9505 0.215942C78.4625 0.215942 79.9665 2.35994 80.4145 3.35194Z" fill="white" />
                            <path d="M63.7595 22.8399C63.8875 23.0319 63.7915 23.2879 63.5675 23.3199C63.0235 23.4159 62.4155 23.4479 61.7115 23.4479C57.6475 23.4479 54.9595 21.7839 54.9595 17.1119C54.9595 17.1119 54.9275 15.5119 54.8955 13.5919V13.6239C54.8955 13.5919 54.8955 11.1599 54.8635 10.0719C54.7675 8.53595 54.4155 7.57595 53.2635 7.57595C53.1355 7.57595 53.0395 7.47995 53.0395 7.35195C53.0395 7.22395 53.1355 7.09595 53.2635 7.09595H54.8315C57.6155 7.09595 58.7995 6.32795 58.8955 3.54395C58.8955 3.41595 58.9915 3.31995 59.1195 3.31995C59.2795 3.31995 59.3755 3.41595 59.3755 3.54395V7.09595H62.7995C62.9275 7.09595 63.0555 7.22395 63.0555 7.35195C63.0555 7.47995 62.9275 7.57595 62.7995 7.57595H59.3755L59.4075 17.1119C59.4075 21.4319 59.9835 22.9359 61.7435 22.9679C62.3195 22.9999 62.7675 22.8399 63.0555 22.4879C63.1835 22.3599 63.4075 22.3599 63.5355 22.5199L63.7595 22.8399Z" fill="white" />
                            <path d="M52.3662 9.84804C52.4302 10.008 52.3663 10.168 52.2383 10.264C51.6303 10.584 50.3823 11.224 50.2223 11.32C49.9023 11.448 49.2303 11.32 49.2303 10.36C49.2303 8.92004 48.3983 7.16004 45.9023 7.16004C44.6543 7.16004 42.8943 7.99204 42.0303 9.49604V16.568C42.1263 19.96 42.6383 21.336 43.0863 21.912C43.4383 22.328 43.1823 23 42.6063 23C42.3183 23 37.2303 23 36.9743 23C36.4303 23 36.1743 22.328 36.4943 21.912C36.9423 21.336 37.4543 19.96 37.5503 16.568C37.5503 15.736 37.5503 14.872 37.5503 14.072C37.4543 10.68 36.9423 10.072 36.4943 9.49604C36.1423 9.08004 36.4303 8.44004 36.9743 8.40804C37.1983 8.37604 37.4223 8.37604 37.5503 8.40804C38.7343 8.40804 39.3743 8.08804 41.3903 7.25604C41.7103 7.12804 42.0303 7.35204 42.0303 7.67204V8.34404C43.0863 7.25604 44.6223 6.71204 45.9023 6.71204C50.4143 6.71204 51.9182 8.85604 52.3662 9.84804Z" fill="white" />
                            <path d="M26.158 6.68005C30.862 6.68005 34.702 10.4241 34.702 15.0641C34.702 19.7041 30.862 23.4481 26.158 23.4481C21.422 23.4481 17.614 19.7041 17.614 15.0641C17.614 10.4241 21.422 6.68005 26.158 6.68005ZM26.158 23.0001C28.11 23.0001 29.71 19.4481 29.71 15.0641C29.71 10.6801 28.11 7.16005 26.158 7.16005C24.174 7.16005 22.606 10.6801 22.606 15.0641C22.606 19.4481 24.174 23.0001 26.158 23.0001Z" fill="white" />
                            <path d="M10.336 0.631958C17.408 0.631958 18.4 3.44796 18.4 5.30396C18.4 7.25596 17.344 10.456 10.336 10.456C7.51999 10.456 6.75199 13.784 6.68799 14.488V16.568C6.78399 20.024 7.32799 21.4 7.77599 21.944C8.12799 22.328 7.87199 23 7.32799 23C7.07199 23 1.82399 23 1.56799 23C1.05599 23 0.799987 22.328 1.11999 21.944C1.59999 21.4 2.11199 20.024 2.20799 16.568V7.06396C2.11199 3.60796 1.59999 2.23196 1.11999 1.68796C0.799987 1.30396 1.05599 0.631958 1.56799 0.631958C1.82399 0.631958 10.336 0.631958 10.336 0.631958ZM10.336 10.008C12.768 10.008 13.952 7.89596 13.952 5.52796C13.952 2.77596 12.736 1.07996 10.336 1.07996H6.68799V12.92C6.75199 12.472 7.90399 10.008 10.336 10.008Z" fill="white" />
                        </svg>
                    </Link>

                </div>
                <div
                    className={isOpened ? "navbar-links-mo worked" : "navbar-links-mo"}
                >
                    <button
                        className={isOpened ? "opened menu" : "menu"}
                        onClick={() => { handleClick(); openRemover(); }}
                        aria-label={isOpened}
                    >
                        <svg width="60" height="60" viewBox="0 0 100 100">
                            <path
                                className="line line1"
                                d="M 20,29.000046 H 80.000231 C 80.000231,29.000046 94.498839,28.817352 94.532987,66.711331 94.543142,77.980673 90.966081,81.670246 85.259173,81.668997 79.552261,81.667751 75.000211,74.999942 75.000211,74.999942 L 25.000021,25.000058"
                            />
                            <path className="line line2" d="M 20,50 H 80" />
                            <path
                                className="line line3"
                                d="M 20,70.999954 H 80.000231 C 80.000231,70.999954 94.498839,71.182648 94.532987,33.288669 94.543142,22.019327 90.966081,18.329754 85.259173,18.331003 79.552261,18.332249 75.000211,25.000058 75.000211,25.000058 L 25.000021,74.999942"
                            />
                        </svg>
                    </button>
                    <div ref={openMenu} className='links-mo'>
                        <Link className='navbar-mo-btn' href="/#wo-are"><h2>Quienes somos</h2></Link>
                        <Link className='navbar-mo-btn' href="/events"><h2>Eventos</h2></Link>
                        <Link className='navbar-mo-btn' href="/#contact"><h2>Contacto</h2></Link>
                    </div>
                </div>

                <div className="navbar-links-pc hidden md:flex">
                    <Link className='navbar-btn' href="/#wo-are">Quienes somos</Link>
                    <Link className='navbar-btn' href="/events">Eventos</Link>
                    <Link className='navbar-btn' href="/#contact">Contacto</Link>
                </div>
            </div>
        </div>
    );
}

export default Navbar;